import{a as b,S as E,i as g}from"./assets/vendor-D5mnuR-h.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function l(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=l(o);fetch(o.href,a)}})();b.defaults.baseURL="https://pixabay.com/api/";const d={key:"49331569-d75c2214014d7ff2c794993e6",image_type:"photo",orientation:"horizontal",safesearch:!0};function w(t,e=1,l=15){return d.q=t,d.page=e,d.per_page=l,b.get("",{params:d})}function S(t,e){const l=[];t.forEach(s=>{l.push(`<li>
                <a class="gallery-link" href="${s.largeImageURL}">
                    <img src="${s.previewURL}" alt="${s.tags}">
                    <ul>
                        <li>
                            <p>Likes: <span>${s.likes}</span></p>
                        </li>
                        <li>
                            <p>Views: <span>${s.views}</span></p>
                        </li>
                        <li>
                            <p>Comments: <span>${s.comments}</span></p>
                        </li>
                        <li>
                            <p>Downloads: <span>${s.downloads}</span></p>
                        </li>
                    </ul>
                </a>
            </li>`)}),e.gallery.insertAdjacentHTML("beforeend",l.join("")),e.lightbox.refresh(),e.isPaging&&x(e.gallery.querySelector(".gallery-link").getBoundingClientRect().height*2)}function x(t){window.scrollBy({top:t,left:0,behavior:"smooth"})}function k(t){t.innerHTML=""}const f=document.querySelector('input[name="search-text"]'),q=document.querySelector('button[type="submit"]'),P=document.querySelector(".gallery"),c=document.querySelector(".loading"),u=document.querySelector(".load-more-button"),y=document.querySelector(".end-of-search"),C=document.querySelector(".back-to-top"),D={theme:"dark",backgroundColor:"#EF4040",position:"topRight",messageColor:"#FAFAFB",message:"Please enter search terms",iconUrl:"./error-alert.svg",iconColor:"white",messageSize:"16px",messageLineHeight:"24px",progressBarColor:"#B51B1B"},F={theme:"dark",backgroundColor:"#EF4040",position:"topRight",messageColor:"#FAFAFB",message:"No images found, try again",iconUrl:"./error-alert.svg",iconColor:"white",messageSize:"16px",messageLineHeight:"24px",progressBarColor:"#B51B1B"},O={captionsData:"alt",captionDelay:250},T=new E(".gallery a",{...O}),n={gallery:P,lightbox:T,isPaging:!1};let i=1;const L=200;let m,r=f.value,h;function H(t){m=Math.floor(t/L),console.log("total pages: "+m)}function B(){i++}function M(){i=1}function v(){return m<i}q.addEventListener("click",async t=>{if(t.preventDefault(),k(P),M(),console.log("searchData: "+r),y.classList.add("visually-hidden"),u.classList.add("visually-hidden"),!r||r===""){g.show({...D});return}c.classList.remove("visually-hidden"),await w(r,i,L).then(e=>{console.log(e),c.classList.add("visually-hidden"),e.data.totalHits>0?(n.isPaging=!1,S(e.data.hits,n),H(e.data.totalHits),console.log(v()),v()?y.classList.remove("visually-hidden"):(console.log(n),n.isPaging=!0,B(),console.log("page "+i),u.classList.remove("visually-hidden"),h=r,console.log("loadData "+h))):g.show({...F})}).catch(e=>{c.classList.add("visually-hidden"),console.error("Error:",e),g.error({title:"Error",message:"Error fetching results, try again later (check console for details)"})})});u.addEventListener("click",async t=>{t.preventDefault(),await w(h,i,L).then(e=>{c.classList.add("visually-hidden"),console.log(e),e.data.totalHits>0&&(S(e.data.hits,n),v()?(u.classList.add("visually-hidden"),y.classList.remove("visually-hidden")):(B(),h=r))}).catch(e=>{c.classList.add("visually-hidden"),console.error("Error:",e),g.error({title:"Error",message:"Error fetching results, try again later (check console for details)"})})});C.addEventListener("click",t=>{t.preventDefault(),window.scrollTo(0,0)});f.addEventListener("input",()=>r=f.value.trim());
//# sourceMappingURL=index.js.map
